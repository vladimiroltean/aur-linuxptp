# Maintainer: Hanspeter Portner <ventosus at airpost dot net>
# Fixes: Brian Bidulock <bidulock at openss7 dot org>
 
pkgname=linuxptp
pkgver=2.0
pkgrel=1
pkgdesc='An implementation of the Precision Time Protocol (PTP) according to IEEE standard 1588 for Linux.'
arch=('i686' 'x86_64')
url='http://linuxptp.sourceforge.net/'
license=('GPL')
depends=('glibc')
makedepends=()
source=("https://sourceforge.net/projects/${pkgname}/files/${pkgname}-${pkgver}.tgz/download")
sha256sums=('0a24d9401e87d4af023d201e234d91127d82c350daad93432106284aa9459c7d')
 
build() {
  cd ${pkgname}-${pkgver}
  make EXTRA_CFLAGS="$CFLAGS"
}
 
package() {
  cd ${pkgname}-${pkgver}
  make prefix="${pkgdir}/usr" sbindir='$(prefix)/bin' mandir='$(prefix)/share/man' man8dir='$(mandir)/man8' install
  mkdir -p "${pkgdir}/etc/linuxptp"
  for cfg in configs/*.cfg; do
    install -Dm0644 ${cfg} "${pkgdir}/etc/linuxptp/"
  done
}
